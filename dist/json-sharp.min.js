/*
 *  json-sharp - v0.1.0
 *  Process operations on pure JSON objects
 *
 *  Made by Globo.com
 *  Under MIT License
 */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.deepmerge=b()}(this,function(){return function a(b,c){var d=Array.isArray(c),e=d&&[]||{};return d?(b=b||[],e=e.concat(b),c.forEach(function(c,d){"undefined"==typeof e[d]?e[d]=c:"object"==typeof c?e[d]=a(b[d],c):-1===b.indexOf(c)&&e.push(c)})):(b&&"object"==typeof b&&Object.keys(b).forEach(function(a){e[a]=b[a]}),Object.keys(c).forEach(function(d){"object"==typeof c[d]&&c[d]&&b[d]?e[d]=a(b[d],c[d]):e[d]=c[d]})),e}}),function(a,b){"function"==typeof define&&define.amd?define(["deepmerge"],b):"object"==typeof module&&module.exports?module.exports=b(require("deepmerge")):a.returnExports=b(a.deepmerge)}(this,function(a){var b={process:function(a,b){var c=this._clone(a);return this.processNode(c,b)},processNode:function(a,b){var c=Object.prototype.toString.call(a),d="[object Array]"===c,e="[object Object]"===c;return e?this.processObject(a,b):d?this.processArray(a,b):a},processObject:function(a,b){var c,d;if(d=this.getOperation(a),void 0!==d)return d.func(this.processNode(a[d.name],b),b);for(c in a)a.hasOwnProperty(c)&&(a[c]=this.processNode(a[c],b));return a},processArray:function(a,b){for(var c=0;c<a.length;c++)a[c]=this.processNode(a[c],b);return a},getOperation:function(a){for(var b in this.operations)if(this.operations.hasOwnProperty(b)&&a.hasOwnProperty(b))return{name:b,func:this.operations[b]}},operations:{"#merge":function(b){return a.apply(a,b)},"#switch":function(a,b){var c,d=b[a["#property"]],e=a["#case"];return c=e[d],void 0!==c?c:(c=e["#default"],void 0!==c?c:void 0)}},_clone:function(a){return JSON.parse(JSON.stringify(a))}};return{JSONSharp:b}});